"use strict";(self.webpackChunkreact_kbzd1=self.webpackChunkreact_kbzd1||[]).push([[890],{5890:function(s,e,t){t.r(e),t.d(e,{default:function(){return B}});var r=t(1413),n=t(5671),o=t(3144),i=t(136),a=t(2882),u=t(2791),l=t(885),c="ProfileInfo_descriptionBlock__WbPYZ",d="ProfileInfo_mainPhoto__WODZ2",h="ProfileInfo_contact__Kv6dJ",p=t(1978),f=t(184),x=function(s){var e=(0,u.useState)(!1),t=(0,l.Z)(e,2),r=t[0],n=t[1],o=(0,u.useState)(s.status),i=(0,l.Z)(o,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:" Status: "})," ",(0,f.jsx)("span",{onMouseMove:function(){n(!0)},children:s.status||"please, add status"})]}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),s.updateStatus(a)},value:a})})]})},j=t(4353),v={},m=t(2747),b=t(704),P=t(820),g=(0,b.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,r=s.error;return(0,f.jsxs)("form",{onSubmit:e,children:[(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Save"})}),r&&(0,f.jsx)("div",{className:P.Z.formSummaryError,children:r}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full Name"})," :",(0,m.Gr)("Full Name","fullName",[],m.II)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking For A Job"})," :",(0,m.Gr)("","lookingForAJob",[],m.II,{type:"checkbox"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My Professional Skills"})," :",(0,m.Gr)("My Professional Skills","lookingForAJobDescription",[],m.gx)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About Me"})," :",(0,m.Gr)("About Me","aboutMe",[],m.gx)]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"})," : ",Object.keys(t.contacts).map((function(s){return(0,f.jsx)("div",{className:v.contact,children:(0,f.jsxs)("b",{children:[s,": ",(0,m.Gr)(s,"contacts."+s,[],m.II)]})},s)}))]})]})})),k=function(s){var e=s.profile,t=s.isOwner,r=s.goToEditMode;return(0,f.jsxs)("div",{children:[t&&(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:r,children:"edit"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Full Name"})," : ",e.fullName]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Looking For A Job"})," : ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(s){return(0,f.jsx)(S,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},S=function(s){var e=s.contactTitle,t=s.contactValue;return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("b",{children:e})," : ",t]})},Z=function(s){var e=s.profile,t=s.status,r=s.updateStatus,n=s.isOwner,o=s.savePhoto,i=s.saveProfile,a=(0,u.useState)(!1),h=(0,l.Z)(a,2),v=h[0],m=h[1];if(!e)return(0,f.jsx)(p.Z,{});return(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("img",{src:e.photos.large||j,className:d,alt:"alt"}),n&&(0,f.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&o(s.target.files[0])}}),v?(0,f.jsx)(g,{initialValues:e,profile:e,onSubmit:function(s){i(s).then((function(){m(!1)}))}}):(0,f.jsx)(k,{goToEditMode:function(){m(!0)},profile:e,isOwner:n}),(0,f.jsx)(x,{status:t,updateStatus:r})]})})},_=t(6070),y=t(2982),I="MyPosts_postsBlock__tZOPO",M="MyPosts_posts__8D8p0",A="Post_item__z4HKZ",N=function(s){return(0,f.jsxs)("div",{className:A,children:[(0,f.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3388/3388668.png"}),s.message,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"like"})," ",s.likesCount]})]})},C=t(6139),w=t(5304),F=(0,w.D)(10),O=(0,b.Z)({form:"postAddPostForm"})((function(s){return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(C.Z,{name:"newPostText",component:m.gx,placeholder:"Post Message",validate:[w.C,F]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add Post"})})]})})),T=u.memo((function(s){var e=(0,y.Z)(s.posts).reverse().map((function(s){return(0,f.jsx)(N,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:I,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(O,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,f.jsx)("div",{className:M,children:e})]})})),J=t(8687),D=(0,J.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,_.Wl)(e))}}}))(T),U=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(Z,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,f.jsx)(D,{})]})},z=t(6871),G=t(7781),E=function(s){(0,i.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,n.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(U,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(u.Component);var B=(0,G.qC)((0,J.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:_.et,getStatus:_.lR,updateStatus:_.Nf,savePhoto:_.Ju,saveProfile:_.Ii}),(function(s){return function(e){var t=(0,z.TH)(),n=(0,z.s0)(),o=(0,z.UO)();return(0,f.jsx)(s,(0,r.Z)((0,r.Z)({},e),{},{router:{location:t,navigate:n,params:o}}))}}))(E)}}]);
//# sourceMappingURL=890.7ab45d19.chunk.js.map