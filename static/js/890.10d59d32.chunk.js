"use strict";(self.webpackChunkreact_kbzd1=self.webpackChunkreact_kbzd1||[]).push([[890],{5890:function(s,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(5671),o=t(3144),i=t(136),n=t(2882),u=t(1413),a=t(2791),l=t(885),c="ProfileInfo_descriptionBlock__WbPYZ",d="ProfileInfo_mainPhoto__WODZ2",h=t(1978),p=t(184),f=function(s){var e=(0,a.useState)(!1),t=(0,l.Z)(e,2),r=t[0],o=t[1],i=(0,a.useState)(s.status),n=(0,l.Z)(i,2),u=n[0],c=n[1];(0,a.useEffect)((function(){c(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!r&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:" Status: "})," ",(0,p.jsx)("span",{onMouseMove:function(){o(!0)},children:s.status||"please, add status"})]}),r&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),s.updateStatus(u)},value:u})})]})},x=t(4353),j={},v=t(2747),m=t(704),g=t(820),b=(0,m.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,r=s.error;return(0,p.jsxs)("form",{onSubmit:e,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Save"})}),r&&(0,p.jsx)("div",{className:g.Z.formSummaryError,children:r}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full Name"})," :",(0,v.Gr)("Full Name","fullName",[],v.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking For A Job"})," :",(0,v.Gr)("","lookingForAJob",[],v.II,{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My Professional Skills"})," :",(0,v.Gr)("My Professional Skills","lookingForAJobDescription",[],v.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About Me"})," :",(0,v.Gr)("About Me","aboutMe",[],v.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"})," : ",Object.keys(t.contacts).map((function(s){return(0,p.jsx)("div",{className:j.contact,children:(0,p.jsxs)("b",{children:[s,": ",(0,v.Gr)(s,"contacts."+s,[],v.II)]})},s)}))]})]})})),P=function(s){var e=s.profile,t=s.isOwner,r=s.goToEditMode;return(0,p.jsxs)("div",{children:[t&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:r,children:"edit"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full Name"})," : ",e.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking For A Job"})," : ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),": ",e.aboutMe]})]})},k=function(s){var e=s.profile,t=s.status,r=s.updateStatus,o=s.isOwner,i=s.savePhoto,n=s.saveProfile,u=(0,a.useState)(!1),j=(0,l.Z)(u,2),v=j[0],m=j[1];if(!e)return(0,p.jsx)(h.Z,{});return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:e.photos.large||x,className:d,alt:"alt"}),o&&(0,p.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&i(s.target.files[0])}}),v?(0,p.jsx)(b,{initialValues:e,profile:e,onSubmit:function(s){n(s).then((function(){m(!1)}))}}):(0,p.jsx)(P,{goToEditMode:function(){m(!0)},profile:e,isOwner:o}),(0,p.jsx)(f,{status:t,updateStatus:r})]})})},S=t(6070),Z=t(2982),y="MyPosts_postsBlock__tZOPO",_="MyPosts_posts__8D8p0",A="Post_item__z4HKZ",I=function(s){return(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3388/3388668.png"}),s.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"})," ",s.likesCount]})]})},M=t(6139),F=t(5304),N=(0,F.D)(10),w=(0,m.Z)({form:"postAddPostForm"})((function(s){return(0,p.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(M.Z,{name:"newPostText",component:v.gx,placeholder:"Post Message",validate:[F.C,N]})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add Post"})})]})})),C=a.memo((function(s){var e=(0,Z.Z)(s.posts).reverse().map((function(s){return(0,p.jsx)(I,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(w,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,p.jsx)("div",{className:_,children:e})]})})),O=t(8687),D=(0,O.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,S.Wl)(e))}}}))(C),J=t(6871),T=function(s){return!1===s.isAuth?(0,p.jsx)(J.Fg,{to:"/login"}):(0,p.jsxs)("div",{children:[(0,p.jsx)(k,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,saveProfile:s.saveProfile,updateStatus:s.updateStatus}),(0,p.jsx)(D,{})]})},U=t(7781),z=t(1548);var G=function(s){(0,i.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return!1===this.props.isAuth?(0,p.jsx)(J.Fg,{to:"/login"}):(0,p.jsx)(T,(0,u.Z)((0,u.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(a.Component),E=(0,U.qC)(z.D,(0,O.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf,savePhoto:S.Ju,saveProfile:S.Ii}),(function(s){return function(e){var t=(0,J.TH)(),r=(0,J.s0)(),o=(0,J.UO)();return(0,p.jsx)(s,(0,u.Z)((0,u.Z)({},e),{},{router:{location:t,navigate:r,params:o}}))}}))(G)}}]);
//# sourceMappingURL=890.10d59d32.chunk.js.map